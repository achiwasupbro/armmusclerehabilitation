<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #ff6b9d;
            text-align: center;
        }
        h2 {
            color: #333;
            margin-top: 0;
        }
        button {
            background: linear-gradient(135deg, #ff6b9d, #ff4a7a);
            color: white;
            border: none;
            padding: 12px 20px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        button:active {
            transform: translateY(0);
        }
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            background: #e3f2fd;
            color: #1976d2;
        }
        .error {
            background: #ffebee;
            color: #c62828;
        }
        .success {
            background: #e8f5e9;
            color: #2e7d32;
        }
    </style>
</head>
<body>
    <h1>üîä ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á</h1>
    
    <div class="test-section">
        <h2>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</h2>
        <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå:</p>
        <button onclick="testAudio('welcome.wav')">welcome.wav</button>
        <button onclick="testAudio('armconfirm.wav')">armconfirm.wav</button>
        <button onclick="testAudio('leftarm.wav')">leftarm.wav</button>
        <button onclick="testAudio('rightarm.wav')">rightarm.wav</button>
        <br>
        <button onclick="testAudio('mode1.wav')">mode1.wav</button>
        <button onclick="testAudio('mode2.wav')">mode2.wav</button>
        <button onclick="testAudio('mode3.wav')">mode3.wav</button>
        <button onclick="testAudio('mode4.wav')">mode4.wav</button>
        <button onclick="testAudio('mode5.wav')">mode5.wav</button>
        <div id="status" class="status" style="display:none;"></div>
    </div>
    
    <div class="test-section">
        <h2>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Web Speech API (‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</h2>
        <button onclick="testSpeech('Ready. Mode start operation. Please select the arm side.')">‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</button>
        <button onclick="testSpeech('Right arm selected')">Right arm</button>
        <button onclick="testSpeech('Left arm selected')">Left arm</button>
        <button onclick="testSpeech('Starting mode 1')">Mode 1</button>
    </div>
    
    <div class="test-section">
        <h2>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>
        <p>‚úÖ ‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á = ‡πÑ‡∏ü‡∏•‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
        <p>‚ùå ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á = ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á</p>
        <p>üìÅ ‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .wav ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö index.html</p>
    </div>

    <script>
        function testAudio(filename) {
            const status = document.getElementById('status');
            status.style.display = 'block';
            status.className = 'status';
            status.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô ${filename}...`;
            
            const audio = new Audio(filename);
            
            // ‡πÄ‡∏£‡πà‡∏á‡∏™‡∏õ‡∏µ‡∏î‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÇ‡∏´‡∏°‡∏î
            if (!filename.startsWith('mode')) {
                audio.playbackRate = 1.2;
            }
            
            audio.onended = () => {
                status.className = 'status success';
                status.textContent = `‚úÖ ‡πÄ‡∏•‡πà‡∏ô ${filename} ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß`;
            };
            
            audio.onerror = () => {
                status.className = 'status error';
                status.textContent = `‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå ${filename} - ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á`;
            };
            
            audio.play().catch(err => {
                status.className = 'status error';
                status.textContent = `‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô ${filename}: ${err.message}`;
            });
        }
        
        function testSpeech(text) {
            const status = document.getElementById('status');
            status.style.display = 'block';
            status.className = 'status';
            status.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏π‡∏î: "${text}"`;
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 1.0;
                utterance.pitch = 1.0;
                
                utterance.onend = () => {
                    status.className = 'status success';
                    status.textContent = `‚úÖ ‡∏û‡∏π‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß`;
                };
                
                utterance.onerror = (err) => {
                    status.className = 'status error';
                    status.textContent = `‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${err.error}`;
                };
                
                window.speechSynthesis.speak(utterance);
            } else {
                status.className = 'status error';
                status.textContent = '‚ùå ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Web Speech API';
            }
        }
    </script>
</body>
</html>
